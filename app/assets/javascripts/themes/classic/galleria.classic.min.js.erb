/**
 * Galleria Classic Theme 2012-04-04
 * http://galleria.io
 *
 * Licensed under the MIT license
 * https://raw.github.com/aino/galleria/master/LICENSE
 *
 */(function(a){var c=jQuery;function b(d){tab=d.split("/");return tab[tab.length-1]}Galleria.addTheme({name:"classic",author:"Galleria",css:b('<%= asset_path("themes/classic/galleria.classic.css") %>'),defaults:{transition:"slide",thumbCrop:"height",_toggleInfo:true},init:function(d){Galleria.requires(1.25,"This version of Classic theme requires Galleria 1.2.5 or later");this.addElement("info-link","info-close");this.append({info:["info-link","info-close"]});var f=this.$("info-link,info-close,info-text"),g=Galleria.TOUCH,e=g?"touchstart":"click";this.$("loader,counter").show().css("opacity",0.4);if(!g){this.addIdleState(this.get("image-nav-left"),{left:-50});this.addIdleState(this.get("image-nav-right"),{right:-50});this.addIdleState(this.get("counter"),{opacity:0})}if(d._toggleInfo===true){f.bind(e,function(){f.toggle()})}else{f.show();this.$("info-link, info-close").hide()}this.bind("thumbnail",function(h){if(!g){a(h.thumbTarget).css("opacity",0.6).parent().hover(function(){a(this).not(".active").children().stop().fadeTo(100,1)},function(){a(this).not(".active").children().stop().fadeTo(400,0.6)});if(h.index===this.getIndex()){a(h.thumbTarget).css("opacity",1)}}else{a(h.thumbTarget).css("opacity",this.getIndex()?1:0.6)}});this.bind("loadstart",function(h){if(!h.cached){this.$("loader").show().fadeTo(200,0.4)}this.$("info").toggle(this.hasInfo());a(h.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",0.6)});this.bind("loadfinish",function(h){this.$("loader").fadeOut(200)})}})}(jQuery));
